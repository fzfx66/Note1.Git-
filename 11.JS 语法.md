## JS 语法

**书籍推荐：**

适合入门《王道 JavaScript 教程》

适合进阶：《你不知道的JavaScript（上）》

**JS 语言评价：**

JS 版本：ES3、ES5，总体评价：垃圾；

ES6，大部分浏览器支持；总体评价：一半垃圾一半好；

ES 2019 与 ES 6 差别不大；

为什么说 ES 6 一半垃圾：

因为 ES 不能删除以前的特性，要兼容旧网站；也就是说以前能运行的网站，以后都要能运行；对比 Python 3 你都能知道兼容的好处：稳定；

取其精华，去其糟粕；对待 JS ，这是我们的态度；

JS 糟粕很多，但为什么我们还要学习这么垃圾的语言？

一门语言的价值是由其产生的价值决定的，JS 是世界上使用最广泛的语言；

JS 是门槛极低的语言（只要你不学糟粕），JS 是一门能产生价值的语言（虽然不美）；

永远不要只学一门编程语言，会造成眼光狭隘的问题；

JS 之父对 JS 的评价（早期）：它的优秀之处并非原创，它的原创之处并不优秀；

<br>

### JS 语法：

**表达式与语句：**

表达式：

1+2 表达式的值为 3 

add（1，2）表达式的值为函数的返回值（只有函数有返回值）

console.log 表达式的值为函数本身

console.log(3) 表达式的值为多少？undefined（即返回值）

**语句：**

 var a = 1 是一个语句；

表达式 与 语句 的区别：表达式一般都有值，语句可能有也可能没有；语句一般会改变环境（声明，赋值）；

**大小写敏感**：不要写错；

var a 和 var A 是不同的；object 和 Object 是不同的；function 和 Function 是不同的；

**空格**：大部分空格没有实际意义；

var a=1 和 var a = 1 没有区别；加回车大部分时候也不影响；

只有一个地方不能加回车，那就是 return 后面；（如果在 return 后面不加任何东西，它会自动帮你补充 undefined）；

```
function fn(){
    return 3
}
fn() --→ 3
——————————————————————————
function fn(){
    return 
    3
}
fn() --→ undefined
```

**标识符**：

规则：第一个字符，可以是 Unicode 字母或 $ 或 _ 或中文；

后面的字符，除了上面所说，还可以有数字；

一般变量名是标识符；

**注释**
写代码要多写注释 ——— 放屁！！（#前端流行的谣言）

注释的分类：

不好的注释：把代码翻译成中文；过时的注释；发泄不满的注释；

好的注释：踩坑注释；为什么代码写的那么奇怪，遇到什么 bug ；


**区块** block ：把代码包在一起
```
{ 
   let a=1
   let b=2 
}
```
常常与 if / for /while 合用；

**if 语句**

if(表达式){语句1} else {语句2}

{}在语句只有一句的时候可以省略，不建议这样做；

变态情况：表达式里可以非常变态，如 a=1（赋值）；
```
a = 2
if(a = 1){
    console.log('a是1')
} else{
    console.log('a不是1')
}
--→ a是1
```

语句1、语句2里也可以非常变态，如嵌套的 if else ；

缩进也可以很变态，如面试题下套：
```
a = 1
if(a === 2)
    console.log('a')
    console.log('a等于2')
--→ a等于2
————————————————————————————————————————————————
a = 1
if(a === 2)
    console.log('a'),console.log('a等于2')
--→ undefined
```

#程序员戒律：永远不要相信人类；

#程序员戒律：永远使用最没有歧义的写法；

最推荐的写法：
```
if (表达式) {
    语句
} else if (表达式) {
    语句
} else {
    语句
}
```
次推荐的写法：
```
function fn(){
    if (表达式) {
        return 表达式
    }
    if (表达式) {
        return 表达式
    }
    return 表达式
}
```
**switch 语句**（不推荐）：大部分时候，省略 break 你就完了，少部分时候可以利用 break；
```
switch (fruit) {
    case 'banana'
    // ...
    break;
    case 'apple'
    // ...
    break;
    default:
    // ...
}
```

问号冒号表达式：表达式1？表达式2：表达式3 （更简洁，能用？：的时候就不要用if-else）

&& 短路逻辑：A && B && C && D 取第一个**假**值或 D ；并不会取 true / false ；

|| 短路逻辑：A || B || C || D 取第一个**真**值或 D ；并不会取 true / false ；

`a = a || 100   //先判断 a 是否存在，给 a 一个保底值100；`

<br>

**while 循环**

语法：while（表达式）{语句}

表达式为真，执行语句，执行完再次判断表达式的真假；

表达式为假，跳出循环，执行后面的；

其他：do…while 用得不多，自行了解；

**for 循环**

语法糖：for 是 while 循环的方便写法；

语法：for（语句1；表达式2；语句3）{循环体}

先执行语句1，然后判断表达式2，如果为真，执行循环体，然后执行语句3；

如果为假，直接退出循环，执行后面的语句；

```
for(var i=0 ; i<5 ; i++){
    console.log(i)
}
--→ 0 1 2 3 4 
————————————————————————————————————————
for(var i=0 ; i<5 ; i++){
    setTimeout(()=>{
        console.log(i)
    },0)
}
--→ 5 5 5 5 5 
—————————————————————————————————————————
for(let i=0 ; i<5 ; i++){
    setTimeout(()=>{
        console.log(i)
    },0)
}
--→ 0 1 2 3 4 
```

break 和 continue 区别：退出所有循环 和 退出当前一次循环；

break 只会跳出离他最近的循环，即只能跳出一层循环；
```
for(var i=0 ; i<8 ; i++>){
    if (i%2 === 1) {
        continue
    } else {
        console.log(i)
    }
}
--→ 0 2 4 6
```

**label 语句**，用的很少，面试会考（5%）：
```
{
    foo:1
}
```



